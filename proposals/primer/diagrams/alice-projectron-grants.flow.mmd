flowchart TB

  AliceHomeRegistry(["ðŸ—ƒ Data Registry (Home)"])
  AliceHomeProjects["ðŸ“ Projects ðŸŒ¿"]
  AliceHomeTasks["ðŸ“ Tasks ðŸŒ¿"]
  PAh1("ðŸ“„ P-Ah-1")
  PAh1RFT("Tasks of P-Ah-1")
  TAh1("ðŸ“„ T-Ah-1")
  TAh2("ðŸ“„ T-Ah-2")
  TAh3("ðŸ“„ T-Ah-3")

  subgraph home.alice.example
    AliceHomeRegistry -- :hasDataRegistration --> AliceHomeProjects
    AliceHomeProjects -- ldp:contains --> PAh1
    PAh1 -- tbd:hasReferencedList --> PAh1RFT
    AliceHomeRegistry -- :hasDataRegistration --> AliceHomeTasks
    AliceHomeTasks -- ldp:contains --> TAh1
    AliceHomeTasks -- ldp:contains --> TAh2
    AliceHomeTasks -- ldp:contains --> TAh3
    PAh1 x-. pm:hasTask .-x TAh1
    PAh1 x-. pm:hasTask .-x TAh2
    PAh1RFT --> TAh1
    PAh1RFT --> TAh2
  end

  DataGrantAllInstances>"ðŸŽŸï¸ Data Grant - AllInstances"]
  DataGrantSelectedInstances>"ðŸŽŸï¸ Data Grant - SelectedInstances"]
  DataGrantInheritInstancesPro>"ðŸŽŸï¸ Data Grant - InheritInstances"]
  DataGrantInheritInstancesHome>"ðŸŽŸï¸ Data Grant - InheritInstances"]
  RemoteDataRegistry(["Remote Data Registry"])
  RemoteDataRegistration[["Remote Data Registration - Projects ðŸŒ¿"]]
  RemoteAgentDataRegistrationAcme["Remote Agent Data Registration - ACME"]
  RemoteDataGrantAcmeProjects>"ðŸŽŸï¸ Remote Data Grant - AllRemoteFromAgent"]
  RemoteDataGrantAcmeTasks>"ðŸŽŸï¸ Remote Data Grant - InheritRemoteInstances"]
  RemoteAgentDataRegistrationOmni["Remote Agent Data Registration - Omni"]
  RemoteDataGrantOmniProjects>"ðŸŽŸï¸ Remote Data Grant - SelectedRemote"]
  RemoteDataGrantOmniTasks>"ðŸŽŸï¸ Remote Data Grant - InheritRemoteInstances"]

  subgraph auth.alice.example
    RemoteDataRegistry -- :hasRemoteDataRegistration ---> RemoteDataRegistration
    RemoteDataRegistration -- :hasRemoteAgentDataRegistration --> RemoteAgentDataRegistrationAcme
    RemoteDataRegistration -- :hasRemoteAgentDataRegistration --> RemoteAgentDataRegistrationOmni
    ApplicationRegistration -- :hasAccessReceipt --> AccessReceipt
    AccessReceipt -- :hasDataGrant --> DataGrantAllInstances
    AccessReceipt -- :hasDataGrant --> DataGrantSelectedInstances
    AccessReceipt -- :hasDataGrant --> DataGrantInheritInstancesPro
    AccessReceipt -- :hasDataGrant --> DataGrantInheritInstancesHome
    AccessReceipt -- :hasDataGrant --> RemoteDataGrantAcmeProjects
    AccessReceipt -- :hasDataGrant ----> RemoteDataGrantOmniProjects
    DataGrantInheritInstancesPro <-- :inheritsFromGrant + ^ --> DataGrantSelectedInstances
    DataGrantInheritInstancesHome <-- :inheritsFromGrant + ^ --> DataGrantAllInstances
    RemoteDataGrantAcmeProjects -- :hasRemoteAgentDataRegistration --> RemoteAgentDataRegistrationAcme
    RemoteDataGrantAcmeTasks <-- :inheritsFromGrant + ^ --> RemoteDataGrantAcmeProjects
    RemoteDataGrantOmniTasks <-- :inheritsFromGrant + ^ --> RemoteDataGrantOmniProjects
  end

  DataGrantAllInstances -- :hasDataRegistration --> AliceHomeProjects
  DataGrantSelectedInstances -- :hasDataInstance ---> PAp2
  RemoteDataGrantOmniProjects -- :hasDataGrant --> DataGrantOmni2AliceProjectsNa


  AliceProRegistry(["ðŸ—ƒ Data Registry (Professional)"])
  AliceProProjects["ðŸ“ Projects ðŸŒ¿"]
  AliceProTasks["ðŸ“ Tasks ðŸŒ¿"]
  PAp1("ðŸ“„ P-Ap-1")
  PAp1RFT("Tasks of P-Ap-1")
  PAp2("ðŸ“„ P-Ap-2")
  PAp2RFT("Tasks of P-Ap-2")
  TAp1("ðŸ“„ T-Ap-1")
  TAp2("ðŸ“„ T-Ap-2")
  TAp3("ðŸ“„ T-Ap-3")
  TAp4("ðŸ“„ T-Ap-4")

  subgraph pro.alice.example
    AliceProRegistry -- :hasDataRegistration --> AliceProProjects
    AliceProProjects -- ldp:contains --> PAp1
    AliceProProjects -- ldp:contains --> PAp2
    PAp1 -- tbd:hasReferencedList --> PAp1RFT
    PAp2 -- tbd:hasReferencedList --> PAp2RFT
    AliceProRegistry -- :hasDataRegistration --> AliceProTasks
    AliceProTasks -- ldp:contains --> TAp1
    AliceProTasks -- ldp:contains --> TAp2
    AliceProTasks -- ldp:contains --> TAp3
    AliceProTasks -- ldp:contains --> TAp4
    PAp1 x-. pm:hasTask .-x TAp1
    PAp1 x-. pm:hasTask .-x TAp2
    PAp2 x-. pm:hasTask .-x TAp3
    PAp1RFT --> TAp1
    PAp1RFT --> TAp2
    PAp2RFT --> TAp3
  end

  AccessGrantAcme2Alice["Access Grant - Alice"]
  DataGrantAcme2AliceProjectsRnd>"ðŸŽŸï¸ Data Grant - AllInstances"]
  DataGrantAcme2AliceProjectsFinance>"ðŸŽŸï¸ Data Grant - SelectedInstances"]
  DataGrantAcme2AliceTasksRnd>"ðŸŽŸï¸ Data Grant - InheritInstances"]
  DataGrantAcme2AliceTasksFinance>"ðŸŽŸï¸ Data Grant - InheritInstances"]

  subgraph auth.acme.example
    AccessGrantAcme2Alice -- :hasDataGrant --> DataGrantAcme2AliceProjectsRnd
    AccessGrantAcme2Alice -- :hasDataGrant --> DataGrantAcme2AliceProjectsFinance
    AccessGrantAcme2Alice -- :hasDataGrant --> DataGrantAcme2AliceTasksRnd
    AccessGrantAcme2Alice -- :hasDataGrant --> DataGrantAcme2AliceTasksFinance
    DataGrantAcme2AliceTasksRnd <-- :inheritsFromGrant + ^--> DataGrantAcme2AliceProjectsRnd
    DataGrantAcme2AliceTasksFinance <-- :inheritsFromGrant + ^--> DataGrantAcme2AliceProjectsFinance
  end

  RemoteAgentDataRegistrationAcme -- :satisfiesDataGrant --> DataGrantAcme2AliceProjectsRnd
  RemoteAgentDataRegistrationAcme -- :satisfiesDataGrant --> DataGrantAcme2AliceProjectsFinance

  AccessGrantOmni2Alice["Access Grant - Alice"]
  DataGrantOmni2AliceProjectsNa>"ðŸŽŸï¸ Data Grant - AllInstances"]
  DataGrantOmni2AliceTasksNa>"ðŸŽŸï¸ Data Grant - InheritInstances"]

  subgraph auth.omni.example
    AccessGrantOmni2Alice -- :hasDataGrant --> DataGrantOmni2AliceProjectsNa
    AccessGrantOmni2Alice -- :hasDataGrant --> DataGrantOmni2AliceTasksNa
    DataGrantOmni2AliceTasksNa -- :inheritsFromGrant + ^ --> DataGrantOmni2AliceProjectsNa
  end

  RemoteAgentDataRegistrationOmni -- :satisfiesDataGrant --> DataGrantOmni2AliceProjectsNa
